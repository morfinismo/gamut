"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var validateTextBox=function(e){return"TextField"===e.__gwt_instance.mb},getDiv=function(){return document.createElement("div")},timeSetter=function(e,t){if(e){var c={options:{leadingZeros:!0,initialValue:"00:00:00",zIndex:9,maxTime:"99:59:59",valueChange:function(e){return e}},input:e,isAppMaker:!1};if(void 0!==e.__gwt_instance&&null!==e.__gwt_instance&&validateTextBox(e)&&(c.input=e.getElement().children[1],c.isAppMaker=!0),c.input.setAttribute("type","text"),null!=t&&"object"===_typeof(t)){if(void 0!==t.leadingZeros&&null!==t.leadingZeros&&"boolean"==typeof t.leadingZeros&&(c.options.leadingZeros=t.leadingZeros),void 0!==t.initialValue&&null!==t.initialValue&&new RegExp(/\d{1,2}:\d{1,2}:\d{1,2}/).test(t.initialValue)&&(c.options.initialValue=t.initialValue),void 0!==t.zIndex&&null!==t.zIndex){var a=parseInt(t.zIndex);"number"==typeof a&&(c.options.zIndex=a)}void 0!==t.valueChange&&null!==t.valueChange&&"function"==typeof t.valueChange&&(c.options.valueChange=t.valueChange)}c.hourValue=parseInt(c.options.initialValue.split(":")[0]),c.minuteValue=parseInt(c.options.initialValue.split(":")[1]),c.secondValue=parseInt(c.options.initialValue.split(":")[2]),c.setValue=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=c.hourValue,a=c.minuteValue,n=c.secondValue;c.options.leadingZeros&&(t=c.hourValue<10?"0"+c.hourValue:c.hourValue,a=c.minuteValue<10?"0"+c.minuteValue:c.minuteValue,n=c.secondValue<10?"0"+c.secondValue:c.secondValue);var i="".concat(t,":").concat(a,":").concat(n);c.input.value=i,e&&c.options.valueChange(i)},c.setValue(),c.controllerClick=function(e){var t,a=e.target,n=a.getAttribute("data-action"),i=a.parentElement.children[0],l=i.getAttribute("data-timearg"),r=parseInt(i.value);"add"===n?"hrs"===l?t=r+1:"mins"!==l&&"secs"!==l||(t=59===r?0:r+1):"substract"===n&&("hrs"===l?t=r-1:"mins"!==l&&"secs"!==l||(t=0===r?59:r-1)),t=t<1?0:t,"hrs"===l?c.hourValue=t:"mins"===l?c.minuteValue=t:"secs"===l&&(c.secondValue=t),i.value=t<10&&c.options.leadingZeros?"0"+t:t,c.setValue(!0)},c.paramChange=function(e){var t,a=e.target,n=a.getAttribute("data-timearg"),i=parseInt(a.value);"hrs"===n?(t=i<1?0:i,c.hourValue=t):"mins"===n?(t=59<i?0:i<0?59:i,c.minuteValue=t):"secs"===n&&(t=59<i?0:i<0?59:i,c.secondValue=t),c.options.leadingZeros&&t<10&&(t="0"+t),a.value=t,c.setValue(!0)};var l=getDiv();return c.open=function(e,t,a,d){l.innerHTML="",l.style.width=d+"px",l.style.top=e+a+2+"px",l.style.left=t+"px",l.style.zIndex=c.options.zIndex,l.classList.add("gamut__timeSetter");var p=getDiv();p.classList.add("gamut__timeSetter__body"),p.style.flexDirection=d<175?"column":"row";["Hrs","Mins","Secs"].forEach(function(e){var t=getDiv();t.classList.add("gamut__timeSetter__paramBox"),t.style.width=d<175?"100%":"33.3%";var a=document.createElement("span");a.classList.add("gamut__timeSetter__paramLabel"),a.style.textAlign=d<175||224<d?"center":"left";var n=document.createTextNode(e);a.appendChild(n),t.appendChild(a);var i=getDiv();i.classList.add("gamut__timeSetter__paramInputWrapper");var l=document.createElement("input");switch(l.classList.add("gamut__timeSetter__paramInputWrapper__input"),l.style.textAlign=d<175||224<d?"center":"left",l.style.paddingRight=d<175||224<d?"15px":"0px",l.addEventListener("change",c.paramChange),l.addEventListener("focus",function(e){l.select()}),l.setAttribute("type","text"),e){case"Hrs":l.setAttribute("value",c.options.leadingZeros&&c.hourValue<10?"0".concat(c.hourValue):c.hourValue),l.setAttribute("data-timearg","hrs");break;case"Mins":l.setAttribute("value",c.options.leadingZeros&&c.minuteValue<10?"0".concat(c.minuteValue):c.minuteValue),l.setAttribute("data-timearg","mins");break;default:l.setAttribute("value",c.options.leadingZeros&&c.secondValue<10?"0".concat(c.secondValue):c.secondValue),l.setAttribute("data-timearg","secs")}i.appendChild(l);var r=document.createElement("span");r.classList.add("gamut__timeSetter__paramInputWrapper__controller--plus"),r.setAttribute("data-action","add");var o=document.createTextNode("❮");r.style.top=c.isAppMaker?"0px":"-2px",r.addEventListener("click",c.controllerClick),r.appendChild(o),i.appendChild(r);var u=document.createElement("span");u.classList.add("gamut__timeSetter__paramInputWrapper__controller--minus"),u.setAttribute("data-action","substract");var s=document.createTextNode("❯");u.style.bottom=c.isAppMaker?"0px":"-2px",u.appendChild(s),u.addEventListener("click",c.controllerClick),i.appendChild(u),t.appendChild(i),p.appendChild(t)}),l.appendChild(p);var n=getDiv();n.classList.add("gamut__timeSetter__doneButton");var i=document.createTextNode("DONE");n.appendChild(i),n.addEventListener("click",c.close),l.appendChild(n),c.input.parentNode.appendChild(l),window.addEventListener("click",c.close)},c.close=function(e){(c.isAppMaker?e.target!==c.input.parentElement:e.target!==c.input)&&(c.input.parentNode.removeChild(l),window.removeEventListener("click",c.close),gamut.activeTimeSetter=null)},c.preventClose=function(e){return e.stopPropagation(),!1},l.addEventListener("click",c.preventClose),c.isAppMaker&&c.input.parentElement.addEventListener("click",c.preventClose),c.focus=function(e){!gamut.activeTimeSetter||gamut.activeTimeSetter.close(e);var t=c.isAppMaker?e.target.parentElement.getBoundingClientRect():c.input.getBoundingClientRect();c.open(t.top,t.left,t.height,t.width),(gamut.activeTimeSetter=c).input.blur()},c.input.addEventListener("focus",c.focus),c.input.blur(),c}console.error("%cGAMUT Time Setter Error: %cEither an input element or a Text Box Widget is required!","color:red","color:brown")},formatTextBox=function(e,t){if(validateTextBox(e)){var a={type:"text",readonly:!1,min:0,max:999999999,step:1,initialValue:null};null!=t&&"object"===_typeof(t)&&(t.type&&["number","password","text"].includes(t.type)&&(a.type=t.type),void 0!==t.readonly&&null!==t.readonly&&"boolean"==typeof t.readonly&&(a.readonly=t.readonly),void 0!==t.max&&null!==t.max&&"number"==typeof t.max&&(a.max=t.max),void 0!==t.min&&null!==t.min&&"number"==typeof t.min&&(a.min=t.min),void 0!==t.step&&null!==t.step&&"number"==typeof t.step&&(a.step=t.step),void 0!==t.initialValue&&null!==t.initialValue&&(a.initialValue=t.initialValue));var n=e.getElement().children[1];n.setAttribute("type",a.type),a.readonly&&n.setAttribute("readonly",""),e.getElement().children[0].classList.add("gamut--label-fix"),"number"===a.type&&(n.classList.add("gamutNumberInput"),n.setAttribute("max",a.max),n.setAttribute("min",a.min),n.setAttribute("step",a.step),n.value="number"==typeof a.initialValue?a.initialValue:a.min)}};!function(e){var t={activeTimeSetter:null,timeSetter:timeSetter,formatTextBox:formatTextBox};e.gamut=t}(window);